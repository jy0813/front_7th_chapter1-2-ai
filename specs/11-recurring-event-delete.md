# ë°˜ë³µ ì¼ì • ì‚­ì œ ê¸°ëŠ¥ ëª…ì„¸

**ê¸°ëŠ¥ ID**: 11-recurring-event-delete
**ì‘ì„±ì¼**: 2025-11-01
**ê´€ë ¨ ëª…ì„¸**: 10-recurring-event-edit.md (ë°˜ë³µ ì¼ì • ìˆ˜ì •)

---

## ğŸ“‹ ê¸°ëŠ¥ ê°œìš”

ë°˜ë³µ ì¼ì •ì„ ì‚­ì œí•  ë•Œ ì‚¬ìš©ìê°€ **ë‹¨ì¼ ì‚­ì œ** ë˜ëŠ” **ì „ì²´ ì‹œë¦¬ì¦ˆ ì‚­ì œ**ë¥¼ ì„ íƒí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

---

## ğŸ¯ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

### 1. ë°˜ë³µ ì¼ì • ì‚­ì œ ë‹¤ì´ì–¼ë¡œê·¸

ë°˜ë³µ ì¼ì •(`repeat.type !== 'none'`ì´ê³  `repeat.id`ê°€ ìˆëŠ” ê²½ìš°)ì„ ì‚­ì œí•˜ë ¤ê³  í•  ë•Œ, ë‹¤ìŒê³¼ ê°™ì€ ë‹¤ì´ì–¼ë¡œê·¸ë¥¼ í‘œì‹œí•©ë‹ˆë‹¤:

**ë‹¤ì´ì–¼ë¡œê·¸ êµ¬ì„±**:
- **ì œëª©**: "ë°˜ë³µ ì¼ì • ì‚­ì œ"
- **ë©”ì‹œì§€**: "í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œí•˜ì‹œê² ì–´ìš”?"
- **ë²„íŠ¼**:
  - "ì˜ˆ": í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œ
  - "ì•„ë‹ˆì˜¤": ëª¨ë“  ë°˜ë³µ ì¼ì • ì‚­ì œ
  - "ì·¨ì†Œ": ì‚­ì œ ì·¨ì†Œ

### 2. ë‹¨ì¼ ì¼ì • ì‚­ì œ (Single Event Delete)

**íŠ¸ë¦¬ê±°**: ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì˜ˆ" ë²„íŠ¼ í´ë¦­

**ë™ì‘**:
1. í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œ
2. API: `DELETE /api/events/:id`
3. ì„±ê³µ ë©”ì‹œì§€: "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."
4. ë‹¤ë¥¸ ë°˜ë³µ ì¼ì •ì€ ì˜í–¥ ì—†ìŒ

### 3. ì „ì²´ ì‹œë¦¬ì¦ˆ ì‚­ì œ (Series Delete)

**íŠ¸ë¦¬ê±°**: ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì•„ë‹ˆì˜¤" ë²„íŠ¼ í´ë¦­

**ë™ì‘**:
1. ê°™ì€ `repeat.id`ë¥¼ ê°€ì§„ ëª¨ë“  ì¼ì • ì‚­ì œ
2. API: `DELETE /api/recurring-events/:repeatId`
3. ì„±ê³µ ë©”ì‹œì§€: "ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."

### 4. ì¼ë°˜ ì¼ì • ì‚­ì œ

**ì¡°ê±´**: `repeat.type === 'none'` ë˜ëŠ” `repeat.id`ê°€ ì—†ëŠ” ê²½ìš°

**ë™ì‘**:
1. ë‹¤ì´ì–¼ë¡œê·¸ **í‘œì‹œí•˜ì§€ ì•ŠìŒ**
2. ì¦‰ì‹œ ì‚­ì œ
3. API: `DELETE /api/events/:id`
4. ì„±ê³µ ë©”ì‹œì§€: "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

### TC-1: ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ (ë°˜ë³µ ì¼ì • ê°ì§€)

**Given**: ë°˜ë³µ ì¼ì •ì´ í™”ë©´ì— ë Œë”ë§ë˜ì–´ ìˆë‹¤
- `repeat.type`: 'daily'
- `repeat.id`: 'repeat-1'

**When**: ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•œë‹¤

**Then**:
- "ë°˜ë³µ ì¼ì • ì‚­ì œ" ë‹¤ì´ì–¼ë¡œê·¸ê°€ í‘œì‹œëœë‹¤
- ë©”ì‹œì§€: "í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œí•˜ì‹œê² ì–´ìš”?"
- ë²„íŠ¼: "ì˜ˆ", "ì•„ë‹ˆì˜¤", "ì·¨ì†Œ"

---

### TC-2: ì¼ë°˜ ì¼ì • ì‚­ì œ ì‹œ ë‹¤ì´ì–¼ë¡œê·¸ ë¯¸í‘œì‹œ

**Given**: ì¼ë°˜ ì¼ì •ì´ í™”ë©´ì— ë Œë”ë§ë˜ì–´ ìˆë‹¤
- `repeat.type`: 'none'

**When**: ì‚­ì œ ë²„íŠ¼ì„ í´ë¦­í•œë‹¤

**Then**:
- ë‹¤ì´ì–¼ë¡œê·¸ê°€ **í‘œì‹œë˜ì§€ ì•ŠëŠ”ë‹¤**
- ì¦‰ì‹œ ì‚­ì œëœë‹¤
- ì„±ê³µ ë©”ì‹œì§€: "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."

---

### TC-3: ë‹¨ì¼ ì¼ì • ì‚­ì œ ("ì˜ˆ" ì„ íƒ)

**Given**:
- ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆ 3ê°œê°€ ë Œë”ë§ë˜ì–´ ìˆë‹¤
  - event-1 (2025-10-01), event-2 (2025-10-02), event-3 (2025-10-03)
  - ëª¨ë‘ ê°™ì€ `repeat.id: 'repeat-1'`

**When**:
1. ì²« ë²ˆì§¸ ì¼ì •(event-1)ì˜ ì‚­ì œ ë²„íŠ¼ í´ë¦­
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì˜ˆ" ë²„íŠ¼ í´ë¦­

**Then**:
- `DELETE /api/events/event-1` í˜¸ì¶œë¨
- event-1ë§Œ ì‚­ì œë¨
- event-2, event-3ëŠ” ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŒ
- ì„±ê³µ ë©”ì‹œì§€: "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."

---

### TC-4: ì „ì²´ ì‹œë¦¬ì¦ˆ ì‚­ì œ ("ì•„ë‹ˆì˜¤" ì„ íƒ)

**Given**:
- ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆ 3ê°œê°€ ë Œë”ë§ë˜ì–´ ìˆë‹¤
  - event-1 (2025-10-01), event-2 (2025-10-02), event-3 (2025-10-03)
  - ëª¨ë‘ ê°™ì€ `repeat.id: 'repeat-1'`

**When**:
1. ì²« ë²ˆì§¸ ì¼ì •(event-1)ì˜ ì‚­ì œ ë²„íŠ¼ í´ë¦­
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì•„ë‹ˆì˜¤" ë²„íŠ¼ í´ë¦­

**Then**:
- `DELETE /api/recurring-events/repeat-1` í˜¸ì¶œë¨
- event-1, event-2, event-3 ëª¨ë‘ ì‚­ì œë¨
- ì„±ê³µ ë©”ì‹œì§€: "ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."

---

### TC-5: ì·¨ì†Œ ë²„íŠ¼

**Given**: ë°˜ë³µ ì¼ì •ì´ ë Œë”ë§ë˜ì–´ ìˆë‹¤

**When**:
1. ì‚­ì œ ë²„íŠ¼ í´ë¦­
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì·¨ì†Œ" ë²„íŠ¼ í´ë¦­

**Then**:
- ë‹¤ì´ì–¼ë¡œê·¸ê°€ ë‹«íŒë‹¤
- API í˜¸ì¶œì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤
- ì¼ì •ì´ ì‚­ì œë˜ì§€ ì•ŠëŠ”ë‹¤

---

### TC-6: ë‹¨ì¼ ì‚­ì œ API ì‹¤íŒ¨

**Given**:
- ë°˜ë³µ ì¼ì •ì´ ë Œë”ë§ë˜ì–´ ìˆë‹¤
- APIê°€ 400 ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„¤ì •ë¨

**When**:
1. ì‚­ì œ ë²„íŠ¼ í´ë¦­
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì˜ˆ" ë²„íŠ¼ í´ë¦­

**Then**:
- ì—ëŸ¬ ë©”ì‹œì§€: "ì¼ì • ì‚­ì œ ì‹¤íŒ¨" ìŠ¤ë‚µë°” í‘œì‹œ
- ì¼ì •ì´ ì‚­ì œë˜ì§€ ì•ŠìŒ

---

### TC-7: ì „ì²´ ì‚­ì œ API ì‹¤íŒ¨

**Given**:
- ë°˜ë³µ ì¼ì •ì´ ë Œë”ë§ë˜ì–´ ìˆë‹¤
- APIê°€ 500 ì—ëŸ¬ë¥¼ ë°˜í™˜í•˜ë„ë¡ ì„¤ì •ë¨

**When**:
1. ì‚­ì œ ë²„íŠ¼ í´ë¦­
2. ë‹¤ì´ì–¼ë¡œê·¸ì—ì„œ "ì•„ë‹ˆì˜¤" ë²„íŠ¼ í´ë¦­

**Then**:
- ì—ëŸ¬ ë©”ì‹œì§€: "ë°˜ë³µ ì¼ì • ì‚­ì œ ì‹¤íŒ¨" ìŠ¤ë‚µë°” í‘œì‹œ
- ì¼ì •ì´ ì‚­ì œë˜ì§€ ì•ŠìŒ

---

## ğŸ”Œ API ëª…ì„¸

### 1. ë‹¨ì¼ ì¼ì • ì‚­ì œ

**ì—”ë“œí¬ì¸íŠ¸**: `DELETE /api/events/:id`

**ìš”ì²­**:
```
DELETE /api/events/event-1
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "message": "Event deleted successfully"
}
```

**ì‘ë‹µ (ì‹¤íŒ¨)**:
```json
{
  "error": "Failed to delete event"
}
```
Status: 400

---

### 2. ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆ ì‚­ì œ

**ì—”ë“œí¬ì¸íŠ¸**: `DELETE /api/recurring-events/:repeatId`

**ìš”ì²­**:
```
DELETE /api/recurring-events/repeat-1
```

**ì‘ë‹µ (ì„±ê³µ)**:
```json
{
  "message": "Recurring event series deleted successfully",
  "deletedCount": 3
}
```

**ì‘ë‹µ (ì‹¤íŒ¨)**:
```json
{
  "error": "Failed to delete recurring event series"
}
```
Status: 500

---

## ğŸ¨ UI/UX ìš”êµ¬ì‚¬í•­

### ë‹¤ì´ì–¼ë¡œê·¸ ìŠ¤íƒ€ì¼

**ì œëª©**: "ë°˜ë³µ ì¼ì • ì‚­ì œ"
**ë©”ì‹œì§€**: "í•´ë‹¹ ì¼ì •ë§Œ ì‚­ì œí•˜ì‹œê² ì–´ìš”?"

**ë²„íŠ¼ ë°°ì¹˜** (ì™¼ìª½ â†’ ì˜¤ë¥¸ìª½):
1. "ì·¨ì†Œ" (ê¸°ë³¸ ìŠ¤íƒ€ì¼)
2. "ì•„ë‹ˆì˜¤" (ì£¼ìš” ì•¡ì…˜)
3. "ì˜ˆ" (ì£¼ìš” ì•¡ì…˜)

### ì„±ê³µ ë©”ì‹œì§€

- **ë‹¨ì¼ ì‚­ì œ**: "ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤." (info)
- **ì‹œë¦¬ì¦ˆ ì‚­ì œ**: "ë°˜ë³µ ì¼ì • ì‹œë¦¬ì¦ˆê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤." (info)

### ì—ëŸ¬ ë©”ì‹œì§€

- **ë‹¨ì¼ ì‚­ì œ ì‹¤íŒ¨**: "ì¼ì • ì‚­ì œ ì‹¤íŒ¨" (error)
- **ì‹œë¦¬ì¦ˆ ì‚­ì œ ì‹¤íŒ¨**: "ë°˜ë³µ ì¼ì • ì‚­ì œ ì‹¤íŒ¨" (error)

---

## ğŸ“ ê¸°ì¡´ ì½”ë“œ ì°¸ê³ 

### ê¸°ì¡´ ì‚­ì œ í•¨ìˆ˜ (`App.tsx`)

```typescript
const handleDeleteEvent = async (id: string) => {
  await deleteEvent(id);
};
```

### ê¸°ì¡´ `useEventOperations.ts`

```typescript
const deleteEvent = async (id: string) => {
  try {
    const response = await fetch(`/api/events/${id}`, { method: 'DELETE' });

    if (!response.ok) {
      throw new Error('Failed to delete event');
    }

    await fetchEvents();
    enqueueSnackbar('ì¼ì •ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', { variant: 'info' });
  } catch (error) {
    console.error('Error deleting event:', error);
    enqueueSnackbar('ì¼ì • ì‚­ì œ ì‹¤íŒ¨', { variant: 'error' });
  }
};
```

---

## âœ… ìˆ˜ìš© ê¸°ì¤€ (Acceptance Criteria)

1. âœ… ë°˜ë³µ ì¼ì • ì‚­ì œ ì‹œ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
2. âœ… ì¼ë°˜ ì¼ì • ì‚­ì œ ì‹œ ë‹¤ì´ì–¼ë¡œê·¸ ë¯¸í‘œì‹œ
3. âœ… "ì˜ˆ" ì„ íƒ ì‹œ ë‹¨ì¼ ì¼ì •ë§Œ ì‚­ì œ
4. âœ… "ì•„ë‹ˆì˜¤" ì„ íƒ ì‹œ ëª¨ë“  ë°˜ë³µ ì¼ì • ì‚­ì œ
5. âœ… "ì·¨ì†Œ" ì„ íƒ ì‹œ ì‚­ì œ ì·¨ì†Œ
6. âœ… ì ì ˆí•œ ì„±ê³µ/ì‹¤íŒ¨ ë©”ì‹œì§€ í‘œì‹œ
7. âœ… API ì—ëŸ¬ ì²˜ë¦¬

---

## ğŸ”— ê´€ë ¨ ë¬¸ì„œ

- **ë°˜ë³µ ì¼ì • ìˆ˜ì •**: `specs/10-recurring-event-edit.md`
- **ë°ì´í„° ëª¨ë¸**: `specs/01-data-models.md`
- **API ëª…ì„¸**: `specs/04-api-specification.md`

---

**ì‘ì„±ì**: Agent 1 (Feature Design Agent)
**ê²€í†  í•„ìš”**: Agent 2 (Test Design Agent)
