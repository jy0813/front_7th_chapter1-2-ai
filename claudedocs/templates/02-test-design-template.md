# 테스트 구조 설계

**Agent**: Agent 2 (Test Design)
**기능명**: [기능명]
**작성일**: [YYYY-MM-DD]
**상태**: 🚧 작성 중

---

## 1. 명세 및 규칙 확인

### 참조 문서
- [x] `specs/[기능명].md` 읽기
- [x] `rules/tdd-principles.md` 읽기
- [x] `rules/testing-library-queries.md` 읽기
- [x] 기존 테스트 파일 패턴 확인

---

## 2. 명세 품질 검증 (v2.8.0)

각 항목마다 **3단계 근거**를 서술하세요:

### 1. ✅ 패턴 준수
- [ ] Given-When-Then 패턴이 일관되게 적용되었는가?
  - **근거 (사실)**: [명세의 어떤 시나리오들이 G-W-T 형식인지]
  - **근거 (평가)**: [패턴 적용 평가]
  - **근거 (대안)**: [Agent 1에게 피드백 필요 여부]

### 2. ✅ 예시 포함
- [ ] 구체적인 입력값과 예시 결과값이 포함되었는가?
  - **근거 (사실)**:
  - **근거 (평가)**:
  - **근거 (대안)**:

### 3. ✅ 엣지 케이스
- [ ] 경계 조건과 예외 상황이 명시되었는가?
  - **근거 (사실)**:
  - **근거 (평가)**:
  - **근거 (대안)**:

### 4. ✅ 테스트 가능
- [ ] 명세 수준이 테스트 케이스 작성 가능한 수준인가?
  - **근거 (사실)**:
  - **근거 (평가)**:
  - **근거 (대안)**:

### 5. ✅ 범위 준수
- [ ] 명세가 요구사항 범위를 벗어나지 않았는가?
  - **근거 (사실)**:
  - **근거 (평가)**:
  - **근거 (대안)**:

**⚠️ 불완전 시**: Agent 1에게 피드백 제공 (feedback-generator.sh 사용)

---

## 3. 테스트 구조 설계

### 단위 테스트 (Unit Tests)
**파일**: `src/__tests__/unit/easy.[기능명].spec.ts`

**테스트 케이스**:
1. `describe('[함수명]', () => {...})`
   - `it('[시나리오 1 설명]', () => {...})`
   - `it('[시나리오 2 설명]', () => {...})`
   - `it('[엣지 케이스 설명]', () => {...})`

### 훅 테스트 (Hook Tests)
**파일**: `src/__tests__/hooks/medium.[훅명].spec.ts`

**테스트 케이스**:
1. `describe('use[훅명]', () => {...})`
   - `it('[시나리오 설명]', () => {...})`

### 통합 테스트 (Integration Tests) ⚠️ 선택 사항
**파일**: `src/__tests__/medium.integration.spec.tsx`

**참고**: 통합 테스트는 선택 사항입니다. 단위 테스트로 충분한 커버리지를 달성할 수 있다면 생략 가능합니다.

**테스트 케이스** (필요 시):
1. `describe('[기능명] 통합 테스트', () => {...})`
   - `it('[사용자 시나리오]', async () => {...})`

---

## 4. 테스트 데이터 준비

### Fixtures
**파일**: `src/__tests__/__fixtures__/mock[기능명].ts`

**데이터**:
```typescript
export const mock[기능명]Data = {
  normal: {
    // 정상 케이스 데이터
  },
  edge: {
    // 엣지 케이스 데이터
  },
  error: {
    // 에러 케이스 데이터
  }
};
```

---

## 5. 테스트 케이스 목록

### 기능 1: [함수명]
- [ ] 정상 케이스 1: [Given-When-Then 요약]
- [ ] 정상 케이스 2: [Given-When-Then 요약]
- [ ] 엣지 케이스 1: [Given-When-Then 요약]
- [ ] 예외 케이스 1: [Given-When-Then 요약]

### 기능 2: [함수명]
- [ ] 정상 케이스: [Given-When-Then 요약]
- [ ] 엣지 케이스: [Given-When-Then 요약]

---

## 6. 다음 단계

**Agent 3에게 전달**:
- 테스트 구조 설계: 이 문서
- 테스트 데이터: `src/__tests__/__fixtures__/mock[기능명].ts`
- Red Phase 시작 가능

**Git 커밋**:
```bash
git add src/__tests__/__fixtures__/
git add src/__tests__/unit/
git commit -m "test: [DESIGN] [기능명] 테스트 구조 설계 및 fixtures 생성"
```

---

**생성 도구**: `.claude/scripts/doc-generator.sh 2 [기능명]`
